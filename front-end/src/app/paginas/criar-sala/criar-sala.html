<div class="criar-sala-container">
  <h2>Criar Nova Sala</h2>

  <form [formGroup]="criarSalaForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nome">Nome da Sala:</label>
      <input type="text" id="nome" formControlName="nome">
      @if (criarSalaForm.get('nome')?.invalid && (criarSalaForm.get('nome')?.dirty || criarSalaForm.get('nome')?.touched)) {
        <div class="error-message">
          @if (criarSalaForm.get('nome')?.errors?.['required']) { <div>Nome é obrigatório.</div> }
          @if (criarSalaForm.get('nome')?.errors?.['minlength']) { <div>Nome deve ter no mínimo 3 caracteres.</div> }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="capacidade">Capacidade:</label>
      <input type="number" id="capacidade" formControlName="capacidade" min="1">
      @if (criarSalaForm.get('capacidade')?.invalid && (criarSalaForm.get('capacidade')?.dirty || criarSalaForm.get('capacidade')?.touched)) {
        <div class="error-message">
          @if (criarSalaForm.get('capacidade')?.errors?.['required']) { <div>Capacidade é obrigatória.</div> }
          @if (criarSalaForm.get('capacidade')?.errors?.['min']) { <div>Capacidade deve ser no mínimo 1.</div> }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="tipoSalaId">Tipo de Sala:</label>
      <select id="tipoSalaId" formControlName="tipoSalaId">
        <option value="" disabled selected>Selecione o tipo</option>
        @for (tipo of tiposSala; track tipo.id) {
          <option [value]="tipo.id">{{ tipo.nome_tipo }}</option>
        }
      </select>
      @if (criarSalaForm.get('tipoSalaId')?.invalid && (criarSalaForm.get('tipoSalaId')?.dirty || criarSalaForm.get('tipoSalaId')?.touched)) {
        <div class="error-message">
          @if (criarSalaForm.get('tipoSalaId')?.errors?.['required']) { <div>Tipo de sala é obrigatório.</div> }
        </div>
      }
    </div>

    <button type="submit" [disabled]="!criarSalaForm.valid">Criar Sala</button>
  </form>

  <div class="back-link">
    <a routerLink="/dashboard">Voltar para o Dashboard</a>
  </div>
</div>